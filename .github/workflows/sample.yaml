name: Sample github action

on:
  workflow_call:
    inputs:
      enable-code-scans:
        required: false
        type: boolean
    secrets:
      ghcr-token:
        required: true
        description: Github token allowing access to the libraries and ghcr.

jobs:
  sample-action:
    name: Sample action
    runs-on: ubuntu-20.04
    if: ${{ inputs.enable-code-scans }}
    steps:
      - name: Checkout repo
        uses: actions/checkout@v3
        with:
          fetch-depth: '0'
      - name: Run sample action
        with:
          ghcr-token: ${{ secrets.ghcr-token }}
        run: |
          echo "Running sample action"
          echo "ghcr-token: ${{ secrets.ghcr-token }}"
          echo "enable-code-scans: ${{ inputs.enable-code-scans }}"
